产品名称（暂定）

Yeartrace / Aimflow / 待定

# 0. 设计锚点

1.这个插件的第一感觉是什么？

- 打开 Obsidian，就能一眼看到我最近的状态怎么样，长期或短期内我的目标是什么。

2.用户每天会用它多久？

- 30秒~2分钟

3.它更像哪一类东西？

- 仪表盘

## 1. 产品背景与目标

### 1.1 背景

长期个人成长工具普遍存在以下问题：

- 记录方式主观、随意，难以复盘
- 打卡类工具过于机械，断档即崩
- 目标系统与每日行为脱节，缺乏正反馈
    

Obsidian 用户普遍具备：

- 长期记录习惯
- 对数据本地化、可解释性要求高
- 对「持续性可视化反馈」高度敏感
    

---

### 1.2 产品目标

打造一个 **以“年度热力图”为核心入口**，

通过 **可配置、可解释的每日评分系统**，

帮助用户：

- 将抽象的“好一天 / 坏一天”具体化
- 建立清晰、可持续的正反馈循环
- 将长期目标锚定到每日可执行行为上
    

---

## 2. 核心设计原则（必须遵守）

1. **有深度，但不复杂**
    
    - 行为是具体的
    - 评分是自动的
    - 总结是抽象的
        
2. **用户永远不需要“想分数”**
    
    - 只需要勾选真实发生的行为
    - 系统负责计算与归因
        
3. **失败不被惩罚**
    
    - 未完成 ≠ 扣分
    - 空白日 ≠ 失败日
        
4. **一切围绕“正反馈”设计**
    
    - 可补填
    - 可调整
    - 可解释
        

---

## 3. 核心用户画像

**目标用户：**

- 长期使用 Obsidian 的个人用户
- 有日记 / Daily Note / 复盘习惯
- 希望通过“行为层面”改善生活状态
- 排斥复杂任务系统，但接受轻量结构化
    

---

## 4. 核心概念模型

### 4.1 Day（每日记录）

系统的最小单位。

**每一天包含：**

- 日期（唯一 ID）
- 行为完成情况（复选框）
- 自动计算的总得分
- 状态档位（由分数映射）
- 可选备注
    

---

### 4.2 Behavior（行为项）

评分系统的基础。

#### 行为项特征：

- 用户可配置
- 复选框形式
- 对应固定分值
- 可归类（可选）
    

#### 示例行为：

- 完成 1 个番茄钟（+2）
- 每多 1 个番茄钟（+1，最多 +5）
- 运动（+3）
- 早睡（+2）
- 多喝水（+1）
    

> 行为不允许负分（v1）

---

### 4.3 Score（每日得分）

- 系统根据当日勾选行为自动计算
- 用户不可直接修改总分
- 可查看得分来源（可解释性）
    

---

### 4.4 Status Tier（状态档位）

根据总分将一天划分为状态等级。

#### 示例：

|得分区间|状态|
|---|---|
|0–2|低能量|
|3–5|普通|
|6–8|良好|
|9+|高峰|

- 状态名称 & 区间可配置
- 状态决定热力图颜色/样式
    

---

## 5. 功能需求说明

---

## 5.1 年度热力图（核心功能）

### 功能描述

- 按年展示每日状态
- 类 GitHub contribution 图
    

### 显示规则

- 每天一个格子
- 根据状态档位显示不同样式
- 空白日使用中性色
    

### 交互

- 点击某天：
    - 打开当日评分面板
- Hover 显示：
    - 日期
    - 得分
    - 状态名称
        

---

## 5.2 每日评分面板

### 功能描述

用户在此完成当天状态记录。

### 内容结构

1. 行为复选列表
2. 当前累计得分
3. 当前状态档位
4. 可选文字备注
    

### 行为勾选逻辑

- 勾选即加分
- 可即时看到分数变化
- 若行为支持“次数”，提供 + / − 控件
    

---

## 5.3 行为配置系统

### 功能描述

用户可自定义自己的评分维度。

### 行为属性

- 行为名称
- 分值
- 是否支持多次
- 最大计分次数
- 所属分类（如：专注 / 健康 / 生活）
    

### v1 限制

- 不支持条件逻辑
- 不支持时间段判断
    

---

## 5.4 状态档位配置

### 功能描述

用户定义“什么样的一天算好的一天”。

### 可配置项

- 档位名称
- 分数区间
- 颜色 / 样式
    

---

## 5.5 目标系统（轻量）

### 层级

- 年度目标
- 月度目标
- 周目标
- 日目标
    

### 目标属性

- 标题
- 时间范围
- 状态（进行中 / 完成 / 放弃）
    

### 与评分系统关系

- v1 不直接影响得分
- 可作为行为设计参考
    

---

## 6. 正反馈机制设计

### 6.1 连续性反馈

- 连续记录天数
- 月度记录完成率
    

### 6.2 趋势反馈

- 最近 7 / 30 天平均分
- 与上周期对比
    

### 6.3 情绪保护机制

- 允许补填历史日期
- 空白日不计入统计
- 不显示“失败”提示
    

---

## 7. 数据结构（概念层）

```ts
DayRecord {
  date: string
  behaviors: Record<BehaviorId, number | boolean>
  score: number
  statusTierId: string
  note?: string
}
```

```ts
Behavior {
  id: string
  name: string
  score: number
  repeatable: boolean
  maxCount?: number
  category?: string
}
```

```ts
StatusTier {
  id: string
  name: string
  minScore: number
  maxScore?: number
  color: string
}
```

---

## 8. v1 范围控制（明确）

### v1 包含

- 年度热力图
- 行为复选评分系统
- 状态档位映射
- 基础目标管理
- 本地 JSON 数据存储
    

### v1 不包含

- 行为依赖关系
- AI 评分建议
- 多维评分
- 数据导出 / 同步
    

---

## 9. 成功标准（MVP 验收）

- 用户可以 **连续 30 天使用**
- 用户能明确说出：
    
    > “今天为什么是一个好 / 普通 / 不太好的日子”
    
- 热力图成为每日打开 Obsidian 的入口页面
    

---

## 10. 未来可扩展方向（不实现，仅预留）

- 行为模板
- 周/月评分汇总
- 行为 → 目标关联
- 多评分维度（健康 / 专注 / 情绪）
    